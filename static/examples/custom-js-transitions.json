{"title":"Custom JS transitions","files":[{"name":"App.svelte","source":"<script>\n\tlet visible = false;\n\n\tfunction typewriter(node, { speed = 50 }) {\n\t\tconst valid = (\n\t\t\tnode.childNodes.length === 1 &&\n\t\t\tnode.childNodes[0].nodeType === 3\n\t\t);\n\n\t\tif (!valid) {\n\t\t\tthrow new Error(`This transition only works on elements with a single text node child`);\n\t\t}\n\n\t\tconst text = node.textContent;\n\t\tconst duration = text.length * speed;\n\n\t\treturn {\n\t\t\tduration,\n\t\t\ttick: t => {\n\t\t\t\tconst i = ~~(text.length * t);\n\t\t\t\tnode.textContent = text.slice(0, i);\n\t\t\t}\n\t\t};\n\t}\n</script>\n\n<label>\n\t<input type=\"checkbox\" bind:checked={visible}>\n\tvisible\n</label>\n\n{#if visible}\n\t<p in:typewriter>\n\t\tThe quick brown fox jumps over the lazy dog\n\t</p>\n{/if}"}]}