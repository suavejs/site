{"title":"Adding parameters","files":[{"name":"App.svelte","source":"<script>\n\tlet language = \"english\";\n\n\tconst translations = {\n\t\tenglish: {\n\t\t\ttooltip: \"Switch Languages\",\n\t\t},\n\t\tlatin: {\n\t\t\ttooltip: \"Itchsway Anguageslay\",\n\t\t}\n\t};\n\n\tfunction tooltip(node, text) {\n\t\tconst tooltip = document.createElement('div');\n\t\ttooltip.textContent = text;\n\n\t\tObject.assign(tooltip.style, {\n\t\t\tposition: 'absolute',\n\t\t\tbackground: 'black',\n\t\t\tcolor: 'white',\n\t\t\tpadding: '0.5em 1em',\n\t\t\tfontSize: '12px',\n\t\t\tpointerEvents: 'none',\n\t\t\ttransform: 'translate(5px, -50%)',\n\t\t\tborderRadius: '2px',\n\t\t\ttransition: 'opacity 0.4s'\n\t\t});\n\n\t\tfunction position() {\n\t\t\tconst { top, right, bottom } = node.getBoundingClientRect();\n\t\t\ttooltip.style.top = `${(top + bottom) / 2}px`;\n\t\t\ttooltip.style.left = `${right}px`;\n\t\t}\n\n\t\tfunction append() {\n\t\t\tdocument.body.appendChild(tooltip);\n\t\t\ttooltip.style.opacity = 0;\n\t\t\tsetTimeout(() => tooltip.style.opacity = 1);\n\t\t\tposition();\n\t\t}\n\n\t\tfunction remove() {\n\t\t\ttooltip.remove();\n\t\t}\n\n\t\tnode.addEventListener('mouseenter', append);\n\t\tnode.addEventListener('mouseleave', remove);\n\n\t\treturn {\n\t\t\tupdate(text) {\n\t\t\t\ttooltip.textContent = text;\n\t\t\t\tposition();\n\t\t\t},\n\n\t\t\tdestroy() {\n\t\t\t\ttooltip.remove();\n\t\t\t\tnode.removeEventListener('mouseenter', append);\n\t\t\t\tnode.removeEventListener('mouseleave', remove);\n\t\t\t}\n\t\t};\n\t}\n\n\tfunction toggleLanguage() {\n\t\tlanguage = language === 'english' ? 'latin' : 'english'\n\t}\n</script>\n\n<button on:click={toggleLanguage} use:tooltip={translations[language].tooltip}>\n\t{language}\n</button>"}]}