{"title":"Flight booker","files":[{"name":"App.svelte","source":"<script>\n\tconst tomorrow = new Date(Date.now() + 86400000);\n\n\tlet start = [\n\t\ttomorrow.getFullYear(),\n\t\tpad(tomorrow.getMonth() + 1, 2),\n\t\tpad(tomorrow.getDate(), 2)\n\t].join('-');\n\n\tlet end = start;\n\tlet isReturn = false;\n\n\t$: startDate = convertToDate(start);\n\t$: endDate = convertToDate(end);\n\n\tfunction bookFlight() {\n\t\tconst type = isReturn ? 'return' : 'one-way';\n\n\t\tlet message = `You have booked a ${type} flight, leaving ${startDate.toDateString()}`;\n\t\tif (type === 'return') {\n\t\t\tmessage += ` and returning ${endDate.toDateString()}`;\n\t\t}\n\n\t\talert(message);\n\t}\n\n\tfunction convertToDate(str) {\n\t\tconst split = str.split('-');\n\t\treturn new Date(+split[0], +split[1] - 1, +split[2]);\n\t}\n\n\tfunction pad(x, len) {\n\t\tx = String(x);\n\t\twhile (x.length < len) x = `0${x}`;\n\t\treturn x;\n\t}\n</script>\n\n<style>\n\tselect, input, button {\n\t\tdisplay: block;\n\t\tmargin: 0.5em 0;\n\t\tfont-size: inherit;\n\t}\n</style>\n\n<!-- https://github.com/eugenkiss/7guis/wiki#flight-booker -->\n<select bind:value={isReturn}>\n\t<option value={false}>one-way flight</option>\n\t<option value={true}>return flight</option>\n</select>\n\n<input type=date bind:value={start}>\n<input type=date bind:value={end} disabled={!isReturn}>\n\n<button\n\ton:click={bookFlight}\n\tdisabled=\"{isReturn && (startDate >= endDate)}\"\n>book</button>\n"}]}