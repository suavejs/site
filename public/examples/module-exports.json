{"title":"Named exports","files":[{"name":"App.svelte","source":"<script>\n\timport AudioPlayer, { stopAll } from './AudioPlayer.svelte';\n</script>\n\n<button on:click={stopAll}>\n\tstop all audio\n</button>\n\n<!-- https://musopen.org/music/9862-the-blue-danube-op-314/ -->\n<AudioPlayer\n\tsrc=\"tutorial/music/strauss.mp3\"\n\ttitle=\"The Blue Danube Waltz\"\n\tcomposer=\"Johann Strauss\"\n\tperformer=\"European Archive\"\n/>\n\n<!-- https://musopen.org/music/43775-the-planets-op-32/ -->\n<AudioPlayer\n\tsrc=\"tutorial/music/holst.mp3\"\n\ttitle=\"Mars, the Bringer of War\"\n\tcomposer=\"Gustav Holst\"\n\tperformer=\"USAF Heritage of America Band\"\n/>\n\n<!-- https://musopen.org/music/8010-3-gymnopedies/ -->\n<AudioPlayer\n\tsrc=\"tutorial/music/satie.mp3\"\n\ttitle=\"GymnopÃ©die no. 1\"\n\tcomposer=\"Erik Satie\"\n\tperformer=\"Prodigal Procrastinator\"\n/>\n\n<!-- https://musopen.org/music/2567-symphony-no-5-in-c-minor-op-67/ -->\n<AudioPlayer\n\tsrc=\"tutorial/music/beethoven.mp3\"\n\ttitle=\"Symphony no. 5 in Cm, Op. 67 - I. Allegro con brio\"\n\tcomposer=\"Ludwig van Beethoven\"\n\tperformer=\"European Archive\"\n/>\n\n<!-- https://musopen.org/music/43683-requiem-in-d-minor-k-626/ -->\n<AudioPlayer\n\tsrc=\"tutorial/music/mozart.mp3\"\n\ttitle=\"Requiem in D minor, K. 626 - III. Sequence - Lacrymosa\"\n\tcomposer=\"Wolfgang Amadeus Mozart\"\n\tperformer=\"Markus Staab\"\n/>\n"},{"name":"AudioPlayer.svelte","source":"<script context=\"module\">\n\tconst elements = new Set();\n\n\texport function stopAll() {\n\t\telements.forEach(element => {\n\t\t\telement.pause();\n\t\t});\n\t}\n</script>\n\n<script>\n\timport { onMount } from 'svelte';\n\n\texport let src;\n\texport let title;\n\texport let composer;\n\texport let performer;\n\n\tlet audio;\n\tlet paused = true;\n\n\tonMount(() => {\n\t\telements.add(audio);\n\t\treturn () => elements.delete(audio);\n\t});\n\n\tfunction stopOthers() {\n\t\telements.forEach(element => {\n\t\t\tif (element !== audio) element.pause();\n\t\t});\n\t}\n</script>\n\n<style>\n\tarticle { margin: 0 0 1em 0; max-width: 800px }\n\th2, p { margin: 0 0 0.3em 0; }\n\taudio { width: 100%; margin: 0.5em 0 1em 0; }\n\t.playing { color: #ff3e00; }\n</style>\n\n<article class:playing={!paused}>\n\t<h2>{title}</h2>\n\t<p><strong>{composer}</strong> / performed by {performer}</p>\n\n\t<audio\n\t\tbind:this={audio}\n\t\tbind:paused\n\t\ton:play={stopOthers}\n\t\tcontrols\n\t\t{src}\n\t></audio>\n</article>"}]}