{"title":"Scatterplot","files":[{"name":"App.svelte","source":"<script>\n\timport Scatterplot from './Scatterplot.svelte';\n\timport data from './data.js';\n</script>\n\n<style>\n\t.chart {\n\t\twidth: 100%;\n\t\tmax-width: 640px;\n\t\theight: calc(100% - 4em);\n\t\tmin-height: 280px;\n\t\tmax-height: 480px;\n\t\tmargin: 0 auto;\n\t}\n</style>\n\n<div class=\"chart\">\n\t<h2>Anscombe's quartet</h2>\n\n\t<Scatterplot points={data.a}/>\n\t<Scatterplot points={data.b}/>\n\t<Scatterplot points={data.c}/>\n\t<Scatterplot points={data.d}/>\n</div>"},{"name":"Scatterplot.svelte","source":"<script>\n\timport { onMount } from 'svelte';\n\timport { scaleLinear } from 'd3-scale';\n\n\texport let points;\n\n\tlet svg;\n\tlet width = 500;\n\tlet height = 200;\n\n\tconst padding = { top: 20, right: 40, bottom: 40, left: 25 };\n\n\t$: xScale = scaleLinear()\n\t\t.domain([0, 20])\n\t\t.range([padding.left, width - padding.right]);\n\n\t$: yScale = scaleLinear()\n\t\t.domain([0, 12])\n\t\t.range([height - padding.bottom, padding.top]);\n\n\t$: xTicks = width > 180 ?\n\t\t[0, 4, 8, 12, 16, 20] :\n\t\t[0, 10, 20];\n\n\t$: yTicks = height > 180 ?\n\t\t[0, 2, 4, 6, 8, 10, 12] :\n\t\t[0, 4, 8, 12];\n\n\tonMount(resize);\n\n\tfunction resize() {\n\t\t({ width, height } = svg.getBoundingClientRect());\n\t}\n</script>\n\n<svelte:window on:resize='{resize}'/>\n\n<svg bind:this={svg}>\n\t<!-- y axis -->\n\t<g class='axis y-axis'>\n\t\t{#each yTicks as tick}\n\t\t\t<g class='tick tick-{tick}' transform='translate(0, {yScale(tick)})'>\n\t\t\t\t<line x1='{padding.left}' x2='{xScale(22)}'/>\n\t\t\t\t<text x='{padding.left - 8}' y='+4'>{tick}</text>\n\t\t\t</g>\n\t\t{/each}\n\t</g>\n\n\t<!-- x axis -->\n\t<g class='axis x-axis'>\n\t\t{#each xTicks as tick}\n\t\t\t<g class='tick' transform='translate({xScale(tick)},0)'>\n\t\t\t\t<line y1='{yScale(0)}' y2='{yScale(13)}'/>\n\t\t\t\t<text y='{height - padding.bottom + 16}'>{tick}</text>\n\t\t\t</g>\n\t\t{/each}\n\t</g>\n\n\t<!-- data -->\n\t{#each points as point}\n\t\t<circle cx='{xScale(point.x)}' cy='{yScale(point.y)}' r='5'/>\n\t{/each}\n</svg>\n\n<style>\n\tsvg {\n\t\twidth: 50%;\n\t\theight: 50%;\n\t\tfloat: left;\n\t}\n\n\tcircle {\n\t\tfill: orange;\n\t\tfill-opacity: 0.6;\n\t\tstroke: rgba(0,0,0,0.5);\n\t}\n\n\t.tick line {\n\t\tstroke: #ddd;\n\t\tstroke-dasharray: 2;\n\t}\n\n\ttext {\n\t\tfont-size: 12px;\n\t\tfill: #999;\n\t}\n\n\t.x-axis text {\n\t\ttext-anchor: middle;\n\t}\n\n\t.y-axis text {\n\t\ttext-anchor: end;\n\t}\n</style>\n"},{"name":"data.js","source":"export default {\n\ta: [\n\t\t{ x: 10, y: 8.04 },\n\t\t{ x: 8, y: 6.95 },\n\t\t{ x: 13, y: 7.58 },\n\t\t{ x: 9, y: 8.81 },\n\t\t{ x: 11, y: 8.33 },\n\t\t{ x: 14, y: 9.96 },\n\t\t{ x: 6, y: 7.24 },\n\t\t{ x: 4, y: 4.26 },\n\t\t{ x: 12, y: 10.84 },\n\t\t{ x: 7, y: 4.82 },\n\t\t{ x: 5, y: 5.68 }\n\t],\n\tb: [\n\t\t{ x: 10, y: 9.14 },\n\t\t{ x: 8, y: 8.14 },\n\t\t{ x: 13, y: 8.74 },\n\t\t{ x: 9, y: 8.77 },\n\t\t{ x: 11, y: 9.26 },\n\t\t{ x: 14, y: 8.1 },\n\t\t{ x: 6, y: 6.13 },\n\t\t{ x: 4, y: 3.1 },\n\t\t{ x: 12, y: 9.13 },\n\t\t{ x: 7, y: 7.26 },\n\t\t{ x: 5, y: 4.74 }\n\t],\n\tc: [\n\t\t{ x: 10, y: 7.46 },\n\t\t{ x: 8, y: 6.77 },\n\t\t{ x: 13, y: 12.74 },\n\t\t{ x: 9, y: 7.11 },\n\t\t{ x: 11, y: 7.81 },\n\t\t{ x: 14, y: 8.84 },\n\t\t{ x: 6, y: 6.08 },\n\t\t{ x: 4, y: 5.39 },\n\t\t{ x: 12, y: 8.15 },\n\t\t{ x: 7, y: 6.42 },\n\t\t{ x: 5, y: 5.73 }\n\t],\n\td: [\n\t\t{ x: 8, y: 6.58 },\n\t\t{ x: 8, y: 5.76 },\n\t\t{ x: 8, y: 7.71 },\n\t\t{ x: 8, y: 8.84 },\n\t\t{ x: 8, y: 8.47 },\n\t\t{ x: 8, y: 7.04 },\n\t\t{ x: 8, y: 5.25 },\n\t\t{ x: 19, y: 12.5 },\n\t\t{ x: 8, y: 5.56 },\n\t\t{ x: 8, y: 7.91 },\n\t\t{ x: 8, y: 6.89 }\n\t]\n};"}]}